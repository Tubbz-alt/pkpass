
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Configuration &#8212; PkPass 1.0.3 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Development and Testing" href="Development And Testing.html" />
    <link rel="prev" title="General Usage" href="General Usage.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="configuration">
<h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="password-repository">
<h2>Password Repository<a class="headerlink" href="#password-repository" title="Permalink to this headline">¶</a></h2>
<p>Passwords are created on the file system, so any destination may be specified.  For passwords that need to be distributed to other users, convention suggests putting these into a hierarchy with the root in ‘passwords’.  To make the repository as flat as possible, the top level will contain mostly groupings of passwords, with the next level containing the passwords themselves.
Examples of groups may include “security-team”, “database-users”, “passwords/general”, etc.  It is up to each organization to determine the best hierarchy for storing passwords.  The ‘list’ command and ‘showall’ commands will crawl the hierarchy starting at the root regardless of structure.</p>
<p>You may distribute passwords to a specified group defined in your pkpassrc file. These groups may be arbitrary</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>databaseadmins: db1, db2,db3
secadmins: admin1,  admin2 ,  admin3
groups: secadmins, databaseadmins
</pre></div>
</div>
<p>you may also specify on the command line which groups to use: <code class="docutils literal notranslate"><span class="pre">pkpass.py</span> <span class="pre">distribute</span> <span class="pre">password</span> <span class="pre">-g</span> <span class="pre">secadmins</span></code></p>
</div>
<div class="section" id="cert-repository">
<h2>Cert Repository<a class="headerlink" href="#cert-repository" title="Permalink to this headline">¶</a></h2>
<p>Certs are read into PkPass and are used in many of the processes. This can be presented to pkpass as a directory structure, repository, or
by means of it’s <code class="docutils literal notranslate"><span class="pre">connector</span></code> functionality.</p>
</div>
<div class="section" id="ca-bundle">
<h2>CA Bundle<a class="headerlink" href="#ca-bundle" title="Permalink to this headline">¶</a></h2>
<p>The CA bundle is used to verify valid certs</p>
</div>
<div class="section" id="arguments">
<h2>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<p>The RC file can take the majority of PkPass’s arguments so that you do not need to pass them through. The only ones that should not be relied upon to work properly
are arguments with ‘store_true’ or ‘store_false’ attributes. The following arguments should work in a pkpassrc file</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cabundle
card_slot
certpath
connect
dstpwstore
escrow_users
groups
identity
keypath
min_escrow
pwstore
<span class="nb">time</span>
users
</pre></div>
</div>
<p>These along with user-defined groups should all work in an RC file.</p>
</div>
<div class="section" id="special-treatment-for-non-piv-accounts-credentials">
<h2>Special Treatment for Non-piv accounts/credentials<a class="headerlink" href="#special-treatment-for-non-piv-accounts-credentials" title="Permalink to this headline">¶</a></h2>
<p>There are some capabilities built into pkpass.py to manage passwords with rsa keys and x509 certificates without using smart card authentication.  These
keys still need to be signed by a CA in the CA bundle.
Create a keypair:</p>
<p>This will create an unsigned keypair.  We really want it to create a certificate request in the future</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>openssl req -newkey rsa:4096 -keyout local.key -x509 -out local.cert
</pre></div>
</div>
<p>As long as the private and public keys are in directories that pkpass can find, distribution to those identities works exactly the same.  Keys must be named ‘username.key’.  For user foo, the private key must be named ‘foo.key’ and reside in the keypath directory.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PkPass</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="Commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="General Usage.html">General Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#password-repository">Password Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cert-repository">Cert Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ca-bundle">CA Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="#arguments">Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#special-treatment-for-non-piv-accounts-credentials">Special Treatment for Non-piv accounts/credentials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Development And Testing.html">Development and Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="Software Dependencies.html">Software Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python2.html">Python 2 support</a></li>
<li class="toctree-l1"><a class="reference internal" href="Windows.html">Windows Consideration</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="General Usage.html" title="previous chapter">General Usage</a></li>
      <li>Next: <a href="Development And Testing.html" title="next chapter">Development and Testing</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Noah Ginsburg, Ryan Adamson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/Configuration.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>